(this["webpackJsonppractise-js"]=this["webpackJsonppractise-js"]||[]).push([[0],{32:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_styles_viewer_sass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(69),_styles_viewer_sass__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_styles_viewer_sass__WEBPACK_IMPORTED_MODULE_1__),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_store_selectors__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_services_parser__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(33),lodash__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),lodash__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__),react_inspector__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(36),Viewer=function Viewer(_ref){var codeData=_ref.codeData,renderExpressions=function renderExpressions(){try{var parsedCode=_services_parser__WEBPACK_IMPORTED_MODULE_4__.a.parse(codeData);console.log("parsedCode",parsedCode);var formattedExpressions=lodash__WEBPACK_IMPORTED_MODULE_5___default.a.mapValues(parsedCode,(function(expression){var result=eval(expression);return console.log(result),result&&result.type?{result:result}:lodash__WEBPACK_IMPORTED_MODULE_5___default.a.isFunction(result)&&result.name?{result:result,type:"function"}:lodash__WEBPACK_IMPORTED_MODULE_5___default.a.isBoolean(result)?{result:result?"true":"false",type:"boolean"}:lodash__WEBPACK_IMPORTED_MODULE_5___default.a.isString(result)?{result:result,type:"string"}:lodash__WEBPACK_IMPORTED_MODULE_5___default.a.isNumber(result)?{result:result,type:"number"}:lodash__WEBPACK_IMPORTED_MODULE_5___default.a.isObject(result)||lodash__WEBPACK_IMPORTED_MODULE_5___default.a.isArray(result)?{type:"object",result:result}:result}));return console.log(formattedExpressions),lodash__WEBPACK_IMPORTED_MODULE_5___default.a.map(formattedExpressions,(function(e,t){return e&&e.result?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"log-item"},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_inspector__WEBPACK_IMPORTED_MODULE_6__.a,{data:e.result})):null}))}catch(err){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"log-item err"},err.toString())}};return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"viewer"},renderExpressions())},mapStateToProps=function(e){return{codeData:Object(_store_selectors__WEBPACK_IMPORTED_MODULE_3__.a)(e)}};__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_2__.b)(mapStateToProps)(Viewer)},33:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Parser}));var _Users_vinay_Documents_react_practise_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_Users_vinay_Documents_react_practise_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(15),_babel_standalone__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(34),_babel_standalone__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_standalone__WEBPACK_IMPORTED_MODULE_2__),esprima__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(35),esprima__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(esprima__WEBPACK_IMPORTED_MODULE_3__),lodash__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),lodash__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_4__),OPEN_DELIMITERS=["(","{","[","`"],CLOSE_DELIMITERS=[")","}","]","`"],DELIMITER_MAP={")":"(","}":"{","]":"[","`":"`"},ParserClass=function(){function ParserClass(){Object(_Users_vinay_Documents_react_practise_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,ParserClass),this.findDelimiters=function(e,t){var a=e.column;return lodash__WEBPACK_IMPORTED_MODULE_4___default.a.intersection(lodash__WEBPACK_IMPORTED_MODULE_4___default.a.takeRight(t,t.length-a),OPEN_DELIMITERS).length}}return Object(_Users_vinay_Documents_react_practise_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(ParserClass,[{key:"parse",value:function parse(code){var _this=this,transformedCode=Object(_babel_standalone__WEBPACK_IMPORTED_MODULE_2__.transform)(code,{presets:["react"]}).code,codeByLine=transformedCode.split("\n"),tokenized=Object(esprima__WEBPACK_IMPORTED_MODULE_3__.tokenize)(transformedCode,{loc:!0}),parens={"(":0,"{":0,"[":0},wasOpen=!1,exp=lodash__WEBPACK_IMPORTED_MODULE_4___default.a.reduce(tokenized,(function(e,t,a){var r=t.value,_=t.loc.end,n=_.line,l=codeByLine[n-1],i=_this.findDelimiters(_,l);_.column,l.length;return e[n]?e:(OPEN_DELIMITERS.includes(r)&&(parens[r]+=1,wasOpen=!0),CLOSE_DELIMITERS.includes(r)&&(parens[DELIMITER_MAP[r]]-=1),!i&&wasOpen&&lodash__WEBPACK_IMPORTED_MODULE_4___default.a.every(parens,(function(e){return 0===e}))?(wasOpen=!1,e[n]=lodash__WEBPACK_IMPORTED_MODULE_4___default.a.take(codeByLine,n).join("\n"),e):!i&&lodash__WEBPACK_IMPORTED_MODULE_4___default.a.every(parens,(function(e){return 0===e}))?(e[n]=lodash__WEBPACK_IMPORTED_MODULE_4___default.a.take(codeByLine,n).join("\n"),e):e)}),{});return eval(transformedCode),exp}}]),ParserClass}(),Parser=new ParserClass},40:function(e,t,a){e.exports=a(72)},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},6:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return _}));var r=function(e){return e.codeReducer.code},_=function(e){return e.settingsReducer}},69:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var r=a(0),_=a.n(r),n=a(12),l=a.n(n),i=(a(45),a(46),a(19)),s=a.n(i),c=a(28),o=(a(48),a(16)),u=a(10),d=(a(49),function(e){var t=e.data,a=e.title,r=e.menuIndex,n=e.listItemClick,l=e.closeMenu,i=e.listValue,s=e.savedTitleValue,c=e.onClickTitle,o=e.value,u=e.valueType,d=e.noClick,E=e.divider;return E?_.a.createElement("div",{className:"list-divider"}):_.a.createElement("div",{className:"opt"},_.a.createElement("div",{onClick:d?null:function(){c&&(c(o),l())},className:"opt-ttl "+(t&&t.length>0?" has-list ":"")+("boolean"===u&&s?" selected ":"")+(d?" noClick ":"")+(s&&o===s?" selected ":"")},a),t&&_.a.createElement("div",{className:"opt-list"},t.map((function(e,t){return _.a.createElement("div",{onClick:function(){return t=e,void(n&&(n(t.value?t.value:null),l&&l()));var t},className:"opt-list-item "+(i&&e.value===i?"selected":""),key:"tll-menu-"+r+t},e.title)}))))}),E=function(e){var t=e.index,a=e.title,n=e.data,l=e.listStyle;Object(r.useEffect)((function(){window.addEventListener("click",(function(e){e.target.closest(".index-"+t)||o(!1)}))}),[]);var i=Object(r.useState)(!1),s=Object(u.a)(i,2),c=s[0],o=s[1];return _.a.createElement("div",{className:"menu-itm "+(c?"visible":"")+" index-"+t},_.a.createElement("div",{className:"menu-ttl",onClick:function(e){e.preventDefault(),n&&n.length>0&&o(!c)}},a),c&&n&&n.length>0&&_.a.createElement("div",{className:"menu-opt",style:l||{}},n.map((function(e,a){return _.a.createElement(d,{title:e.title,data:e.list,closeMenu:function(){return o(!1)},listValue:e.listValue,savedTitleValue:e.savedTitleValue,value:e.value,valueType:e.valueType,onClickTitle:e.onClick,listItemClick:e.listItemClick,menuIndex:t,noClick:e.noClick,divider:e.divider,key:"opt-tllbr-menu-"+a+t})}))))},m="UPDATE_CODE",p="FONT_SIZE",b="TAB_SIZE",v="WRAP_LINE",O="ADD_LIBRARIES",f="REMOVE_LIBRARIES",D="UPDATE_LOAD_LIBRARY_FLAG",P=a(14),M=a(15),C=new(function(){function e(){Object(P.a)(this,e)}return Object(M.a)(e,[{key:"loadLibraries",value:function(e){return new Promise((function(t){var a=0,r=0;if(e&&Array.isArray(e))for(var _=0;_<e.length;_++){if(document.getElementById(e[_].id))(r+=1)===e.length&&t({total:r,errs:a});else{var n=e[_],l=document.createElement("script");l.type="text/javascript",l.async=!0,l.id=n.id,l.onload=function(){(r+=1)===e.length&&t({total:r,errs:a})},l.onerror=function(){a=1,(r+=1)===e.length&&t({total:r,errs:a})},l.src=n.src,document.getElementsByTagName("head")[0].appendChild(l)}}else t({total:0,errs:0})}))}},{key:"removeLibrary",value:function(e){var t=document.getElementById(e.id);t&&t.parentElement.removeChild(t)}}]),e}()),L=a(5),h=a(6),I=(a(54),a(55),function(e){var t=e.children;return _.a.createElement("div",{className:"modal-footer"},t)}),y=function(e){var t=e.onClose,a=e.title,r=e.children;return _.a.createElement("div",{className:"app-modal"},_.a.createElement("div",{className:"back-drop"}),_.a.createElement("div",{className:"modal-content"},a&&_.a.createElement("div",{className:"modal-ttl"},_.a.createElement("div",{className:"ttl"},a),_.a.createElement("div",{className:"close",onClick:t})),_.a.createElement("div",{className:"modal-body"},r)))},k=(a(56),function(e){var t=e.children,a=e.transparent,r=e.filled,n=e.link,l=e.onClick,i=e.large,s=["app-btn"];return a&&s.push("transparent"),r&&s.push("filled"),n&&s.push("link"),i&&s.push("large"),_.a.createElement("button",{className:s.join(" "),onClick:l||null},t)}),T=(a(57),function(e){var t=e.value,a=e.onChange,r=e.placeholder;return _.a.createElement("input",{className:"app-input",onChange:a||null,placeholder:r,value:t})}),R=Object(L.b)(null,{addLibraries:function(e){return{type:O,payload:e}},removeLibraries:function(e){return C.removeLibrary(e),{type:f,payload:e}}})((function(e){var t=e.mode,a=e.data,n=e.addLibraries,l=e.onClose,i=e.removeLibraries,s=Object(r.useState)(""),c=Object(u.a)(s,2),o=c[0],d=c[1];return _.a.createElement(y,{title:"".concat("add"===t?"Add":"Manage"," Library"),onClose:l},"add"===t?_.a.createElement("div",null,_.a.createElement(T,{onChange:function(e){return d(e.target.value)},value:o,placeholder:"http://"})):_.a.createElement("div",{className:"manage-lib"},a&&a.map((function(e,t){return _.a.createElement("div",{className:"lib-item",key:e.id},_.a.createElement("div",{className:"idx"},t+1),_.a.createElement("div",{className:"name"},e.name),_.a.createElement("a",{className:"link",href:e.src,target:"_blank"},e.src),_.a.createElement("div",{className:"actions"},_.a.createElement(k,{onClick:function(){return function(e){i&&i(e)}(e)}},"Delete")))}))),"add"===t&&_.a.createElement(I,null,_.a.createElement(k,{filled:!0,onClick:function(){var e={name:o.split("/").pop(),src:o,id:(new Date).toISOString()};o&&o.length>0&&(n(e),l())}},"Add Library")))})),g=Object(L.b)((function(e){return{settings:Object(h.b)(e)}}),{saveFontSize:function(e){return{type:p,payload:e}},saveTabSize:function(e){return{type:b,payload:e}},saveWrapLine:function(e){return{type:v,payload:e}}})((function(e){var t=e.saveFontSize,a=e.saveTabSize,n=e.settings,l=n.fontSize,i=n.tabSize,s=n.wrapLine,c=n.libraries,d=void 0===c?[]:c,m=e.saveWrapLine,p=Object(r.useState)(!1),b=Object(u.a)(p,2),v=b[0],O=b[1],f=[{title:"Format",list:[{title:"Font Size",listItemClick:t,listValue:l,list:[{title:"10",value:10},{title:"11",value:11},{title:"12",value:12},{title:"13",value:13},{title:"14",value:14},{title:"15",value:15},{title:"16",value:16},{title:"17",value:17},{title:"18",value:18},{title:"19",value:19},{title:"20",value:20},{title:"21",value:21}]},{title:"Tab Size",listItemClick:a,listValue:i,list:[{title:"2",value:2},{title:"4",value:4},{title:"6",value:6}]},{title:"Wrap Line",savedTitleValue:s,value:!s,valueType:"boolean",onClick:m}]},{title:"Libraries",listStyle:{minWidth:210},list:[{onClick:function(){return O("add")},value:!0,title:"Load Library"},{onClick:function(){return O("manage")},value:!0,title:"Manage Libraries"},{divider:!0}].concat(Object(o.a)(d.length>0?d.map((function(e){return{title:e.name,noClick:!0}})):[]))}];return _.a.createElement("div",{className:"h-toolbar"},f.map((function(e,t){return _.a.createElement(E,{title:e.title,listStyle:e.listStyle,index:t,data:e.list,key:"tll-br-"+t})})),v&&_.a.createElement(R,{data:d,mode:v,onClose:function(){return"manage"===v&&window.location.reload(),void O(!1)}}))})),A=function(){return _.a.createElement("div",{className:"app-header"},_.a.createElement("div",{className:"app-header-c"},_.a.createElement("div",{className:"l"},_.a.createElement("div",{className:"logo"},_.a.createElement("span",{className:"j"},"J"),_.a.createElement("span",{className:"s"},"S")),_.a.createElement("div",{className:"l-content"},_.a.createElement("div",{className:"l-top"},_.a.createElement("div",{className:"title"},"Practise",_.a.createElement("span",{className:"j"},"J"),_.a.createElement("span",{className:"s"},"S"))),_.a.createElement("div",{className:"l-toolbar"},_.a.createElement(g,null)))),_.a.createElement("div",{className:"r"})))},w=a(39),B=a(30),j=a.n(B),W=(a(64),a(65),a(66),Object(L.b)((function(e){return{codeData:Object(h.a)(e),settings:Object(h.b)(e)}}),{updateCode:function(e){return{type:m,payload:e}}})((function(e){var t=e.codeData,a=e.updateCode,r=e.settings;return _.a.createElement("div",null,_.a.createElement(j.a,{width:"100%",wrapEnabled:r.wrapLine,value:t,onChange:a,showPrintMargin:!1,fontSize:r.fontSize,tabSize:r.tabSize,enableSnippets:!0,height:window.innerHeight-62,mode:"javascript",theme:"xcode"}))}))),U=a(4),K=a(3),N={code:""},S={fontSize:14,tabSize:4,wrapLine:!1,libraries:[],librariesLoaded:!1},x=Object(U.c)({codeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(K.a)(Object(K.a)({},e),{},{code:t.payload});default:return e}},settingsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(K.a)(Object(K.a)({},e),{},{fontSize:t.payload});case b:return Object(K.a)(Object(K.a)({},e),{},{tabSize:t.payload});case v:return Object(K.a)(Object(K.a)({},e),{},{wrapLine:t.payload});case O:var a=e.libraries?e.libraries:[];return Object(K.a)(Object(K.a)({},e),{},{libraries:[].concat(Object(o.a)(a),[t.payload])});case f:return Object(K.a)(Object(K.a)({},e),{},{libraries:e.libraries.filter((function(e){return e.id!==t.payload.id}))});case D:return Object(K.a)(Object(K.a)({},e),{},{librariesLoaded:t.payload});default:return e}}}),q=a(31),z=a.n(q),V=a(22),F={key:"root",storage:z.a},J=Object(V.a)(F,x),Z=Object(U.a)()(U.d)(J),G=Object(V.b)(Z),H=a(32),Y=a(38),$=Object(L.b)((function(e){return{settings:Object(h.b)(e)}}),{updateLoadLibraryFlag:function(e){return{type:D,payload:e}}})((function(e){var t=e.updateLoadLibraryFlag,a=e.settings,n=a.librariesLoaded,l=a.libraries;Object(r.useEffect)((function(){i()}),[l]);var i=function(){var e=Object(c.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l&&l.length>0)){e.next=10;break}return console.log("loading"),t(!1),e.next=5,C.loadLibraries(l);case 5:e.sent,console.log("loaded"),t(!0),e.next=11;break;case 10:t(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return _.a.createElement("div",{className:"app-root"},_.a.createElement(A,null),_.a.createElement("div",{className:"app-content"},_.a.createElement(w.a,{split:"vertical",minSize:300,defaultSize:window.innerWidth/2},_.a.createElement("div",null,_.a.createElement(W,null)),_.a.createElement("div",null,n&&_.a.createElement(H.a,null)))))})),Q=function(){return _.a.createElement(L.a,{store:Z},_.a.createElement(Y.a,{loading:null,persistor:G},_.a.createElement($,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=document.querySelector("[practise-js]");l.a.render(_.a.createElement(_.a.StrictMode,null,_.a.createElement(Q,null)),X),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.3aa3b202.chunk.js.map